{
    "$schema": "https://turbo.build/schema.json",
    "globalDependencies": [
      "**/.env.*local",
      "**/.env"
    ],
    "pipeline": {
      "build": {
        "dependsOn": ["^build"],
        "outputs": ["dist/**", ".next/**", "!.next/cache/**"]
      },
      "dev": {
        "cache": false,
        "persistent": true,
        "dependsOn": ["^build"]
      },
      "start": {
        "dependsOn": ["build"]
      },
      "test": {
        "dependsOn": ["build"],
        "outputs": ["coverage/**"],
        "inputs": [
          "src/**/*.ts",
          "src/**/*.tsx", 
          "test/**/*.ts",
          "tests/**/*.ts",
          "**/*.test.ts",
          "**/*.spec.ts"
        ]
      },
      "test:watch": {
        "cache": false,
        "persistent": true
      },
      "lint": {
        "dependsOn": ["^build"]
      },
      "lint:fix": {
        "cache": false,
        "outputs": []
      },
      "type-check": {
        "dependsOn": ["^build", "codegen"],
        "outputs": []
      },
      "clean": {
        "cache": false
      },
      "codegen": {
        "dependsOn": ["^build"],
        "outputs": ["src/generated/**", "generated/**"]
      },
      "migrate": {
        "cache": false
      },
      "seed": {
        "cache": false
      },
      "reset": {
        "cache": false
      },
      "studio": {
        "cache": false,
        "persistent": true
      }
    },
    "globalEnv": [
      "DATABASE_URL",
      "JWT_ACCESS_SECRET",
      "JWT_REFRESH_SECRET",
      "npm_package_version",
      "BUILD_DATE",
      "TELEGRAM_BOT_TOKEN"
    ]
  }